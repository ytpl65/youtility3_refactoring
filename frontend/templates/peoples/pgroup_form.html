{% extends "base_form.html" %}

<!---- BEGIN PAGE TITLE ---->
{% block title %}
People Group Form
{% endblock title %}
<!---- END PAGE TITLE ----->


{% block head %} {% endblock head %}
<!-------------------------- BEGIN PAGE BREADCUMB ----------------------->
{% block pagebreadcumb %}
{{ super() }}
<li class="breadcrumb-item pe-3"><a href="{{ url('peoples:pgroup_list') }}" class="pe-3">Pgroup List</a></li>
<li class="breadcrumb-item pe-3"><a href="javascript:void(0)" class="pe-3">Pgroup Form</a></li>
{% endblock pagebreadcumb %}
<!-------------------------- END PAGE BREADCUMB ------------------------->


<!-------------  BEGIN POP-UPS CODE -------------->
{% block popup_alerts %}
	{% if edit is defined %}
	<!-- to delete an instance with popup_alert pass the delete_url_name, instance_id, popup_title, popup_id -->
		{% call popup_alert('peoples:pgroup_delete', pgroup_form.instance.groupid, title="Delete", popup_id="delete_alert") %}
			<h4>Are you sure, you want to delete this?</h4>
		{% endcall %}
	{% endif %}
{% endblock popup_alerts %}
<!-------------  END POP-UPS CODE -------------->


<!------ BEGIN FORM TITLE ------->
{% block form_title %}
People group
{% endblock form_title %}
<!------ END FORM TITLE -------->


<!-------- BEGIN NON FIELD ERRORS -------->
{% block nonfield_errors %}
    {% if pgroup_form.non_field_errors() %}
	<div id="non_field_error" class="alert alert-danger" style="width: 73%;">
		{% for error in pgroup_form.non_field_errors() %}
		{{ error }}
		{% endfor %}
		<button type="button" class="btn-close flt-right" data-bs-dismiss="alert" aria-label="Close"></button>
	</div>
	{% endif %}
{% endblock nonfield_errors %}
<!---------- END NON FIELD ERRORS --------->


<!----------- BEGIN FORM MESSGES -------------->
{% block form_msgs %}
	{% for msg in get_msgs(request) %}
	<div class="alert {% if msg.tags %} {{ msg.tags }} {% endif %} " id="alert_msg" style="width:73%; ">
		{{ msg }}
		<button type="button" class="btn-close flt-right" data-bs-dismiss="alert" aria-label="Close"></button>
	</div>
	{% endfor %}
{% endblock form_msgs %}
<!----------- END FORM MESSGES ----------------->


<!-------------- BEGIN FORM ------------------->
{% block form %}
    <form action="" method='post' id="id_pgroupform">
        <div class="mb-3 row">
           <!---------------------------CSRF MIDDLEWARE TOKEN---------------------->
			<input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
            
            {{ pgroup_form.groupname.label_tag() }}
            <div class="input-group col-md-6">
                {{ pgroup_form.groupname }}
                {% if pgroup_form.groupname.help_text %}
                    <small>{{ pgroup_form.groupname.help_text }}</small>
                {% endif %}
                {{ pgroup_form.errors }}
            </div>
            <!----------- Checkboxes Rendering Last --------------------->
            <div class="booleans col-md-4 d-flex justify-content-sm-between mt-5">
                <label for={{ pgroup_form.enable.id_for_label }}
                    class="form-check-label bool col-form-label me-5 text-sm-right">{{ pgroup_form.enable }}
                    &nbsp{{ pgroup_form.enable.label }}</label>
            </div>
        </div>
    </form>
{% endblock form %}
<!------------- END FORM ---------------------->


<!------------------ BEGIN FORM PAGE ACTIONS --------------->
{% block page_actions %}
{% if edit is defined %}
    {{ form_update('id_pgroupform', popup_id="delete_alert") }}
{% else %}
    {{ form_create('id_pgroupform') }}
{% endif %}
{% endblock page_actions %}
<!------------------- END FORM PAGE ACTIONS --------------->


<!--------------- BEGIN PAGE-LEVEL EXTRA SCRIPTS --------------->
{% block extra_scripts %}
<script>
$(document).ready(function(){
	//hide the delete button when instance is not saved yet.
	if('{{ pgroup_form.instance.groupid }}'==('None' || "")){
		$("#btn_del").hide()
	}
})
</script>
{% endblock extra_scripts %}
<!--------------- END PAGE-LEVEL EXTRA SCRIPTS --------------->
